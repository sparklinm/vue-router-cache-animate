(function(e){function t(t){for(var r,i,c=t[0],s=t[1],u=t[2],d=0,f=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/vue-router-cache-animate/examples/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"11fd":function(e,t,n){},"452c":function(e,t,n){},"4e7e":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("vue-router-cache-animate",{attrs:{transitions:e.transitions,"no-cache-on-back":!0}},[n("router-view")],1)],1)},o=[],i={data(){return{transitions:[{name:"slide-left",reverseName:"slide-right",from:{include:["Parent"]}}]}}},c=i,s=(n("7faf"),n("b0a0"),n("2877")),u=Object(s["a"])(c,a,o,!1,null,null,null),l=u.exports,d=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[e._v(" Tab A ")]),e._v(" | "),n("router-link",{attrs:{to:"/tab-b"}},[e._v(" Tab B ")])],1),n("vue-router-cache-animate",[n("router-view")],1)],1)},m=[],h={name:"Parent",data(){return{}},methods:{}},p=h,v=(n("cd40"),Object(s["a"])(p,f,m,!1,null,null,null)),b=v.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"child"},[n("button",{staticClass:"btn-return",attrs:{href:""},on:{click:e.back}},[e._v(" return ")]),n("Detail")],1)},x=[],y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"detail"},[e._v(" 这是一个详情页"+e._s(e.id)+" "),n("br"),e._v(" 随机数："+e._s(Math.floor(1e4*Math.random()))+" ")])},g=[],O={data(){return{id:0}},created(){this.id=this.$route.params.id},methods:{}},w=O,k=(n("b039"),Object(s["a"])(w,y,g,!1,null,null,null)),j=k.exports,$={name:"Child",components:{Detail:j},methods:{back(){history.back()}}},E=$,C=(n("f2d6"),Object(s["a"])(E,_,x,!1,null,null,null)),S=C.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tab-a"},[n("List")],1)},P=[],T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list"},[n("div",{staticClass:"title"},[e._v(" 随机数： "+e._s(Math.floor(1e3*Math.random()))+" ")]),e._l(e.data,(function(t){return n("div",{key:t,staticClass:"list-item",on:{click:function(n){return e.toDetail(t)}}},[n("div",[e._v(" 列表项: "+e._s(t)+" ")]),n("div",[e._v(" 点击进入详情页 ")])])}))],2)},M=[],A={data(){return{data:[]}},created(){const e=[];for(let t=0;t<10;t++)e[t]=t;this.data=e},methods:{toDetail(e){this.$router.push("/detail/"+e)}}},B=A,L=(n("579e"),Object(s["a"])(B,T,M,!1,null,"64368d66",null)),D=L.exports,I={name:"TabA",components:{List:D}},J=I,K=Object(s["a"])(J,N,P,!1,null,null,null),R=K.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tab-b"},[n("List")],1)},z=[],F={name:"TabB",components:{List:D}},G=F,H=Object(s["a"])(G,q,z,!1,null,null,null),Q=H.exports;r["a"].use(d["a"]);const U=[{path:"/",name:"Parent",component:b,children:[{path:"",name:"TabA",component:R},{path:"/tab-b",name:"TabB",component:Q}]},{path:"/detail/:id",name:"Child",component:S}],V=new d["a"]({mode:"history",base:"/vue-router-cache-animate/examples/",routes:U});var W=V,X={name:"vue-router-cache-animate",props:{caches:{type:Array,default:()=>[{names:{include:void 0,exclude:void 0},cachedOn:{include:void 0,exclude:void 0}}]},noCacheOnBack:{type:Boolean,default:!1},transitions:{type:Array,default:()=>[{name:"",reverseName:"",from:void 0,to:void 0}]}},data(){return{include:void 0,exclude:[],transitionName:"",css:!1}},render(e){const t=this.$slots.default&&this.$slots.default[0];return e("transition",{props:{...this.$attrs,name:this.transitionName,css:this.css},on:this.$listeners},[e("keep-alive",{props:{include:this.include,exclude:this.exclude}},[t])])}};function Y(e){function t(e){const n={};for(let r=0;r<e.length;r++)e[r].name&&(n[e[r].name]=1),e[r].children&&e[r].children.length&&(n[e[r].name]=t(e[r].children));return n}return t(e)}function Z(e){return e.instances.default.$parent}function ee(e,t){let n={};return t.matched.some((t,r)=>{if(t!==e.matched[r])return n={from:e.matched[r],to:t},!0}),n}function te(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function ne(e,t){return Array.isArray(e)?e.includes(t):"string"===typeof e?e.split(",").indexOf(t)>-1:!!te(e)&&e.test(t)}function re(e,t,n){return!e&&!t||(e&&ne(e,n)||t&&!ne(t,n))}function ae(e){return e&&e.matched[e.matched.length-1].components.default.name}function oe(e){return e&&e.$options._componentTag}function ie(e,t,n){e.transitions.some(r=>{let a="";r.to||r.from?r.to||!r.from.include&&!r.from.exclude?re(r.from.include,r.from.exclude,t.name)&&re(r.to.include,r.to.exclude,n.name)?a="forward":re(r.from.include,r.from.exclude,n.name)&&re(r.to.include,r.to.exclude,t.name)&&(a="back"):re(r.from.include,r.from.exclude,t.name)&&!re(r.from.include,r.from.exclude,n.name)?a="forward":!re(r.from.include,r.from.exclude,t.name)&&re(r.from.include,r.from.exclude,n.name)&&(a="back"):a="forward","forward"===a&&r.name?(e.transitionName=r.name,e.css=!0):"back"===a&&r.reverseName?(e.transitionName=r.reverseName,e.css=!0):(e.transitionName="",e.css=!1)})}var ce={install(e,{router:t,options:n}){const r="_none_";let a="forward";const o="_history_pageKeys_",i=Y(t.options.routes);let c=null,s=!1;const u=sessionStorage.getItem(o)?JSON.parse(sessionStorage.getItem(o)):[];let l=-1;function d(e,t,n){let a=[],o=[];e.some(e=>{let r=re(e.cachedOn.include,e.cachedOn.exclude,n.name);if(r)return e.names.include||e.names.exclude?(e.names.include&&(a=a.concat(e.names.include)),e.names.exclude&&(o=o.concat(e.names.exclude)),!1):(a=["all"],!0);r=re(e.cachedOn.include,e.cachedOn.exclude,t.name)&&re(e.names.include,e.names.exclude,n.name),r&&a.push(n.name)});let c=t;const s=[];let u=i;while(c)s.push(c.name),c=c.parent;for(let r=s.length-1;r>0;r--)u=i[s[r]];if(a&&"all"===a[0])return Object.keys(u);if(o.length){o=new Set(o),a.forEach(e=>{o.has(e)&&o.delete(e)});for(const e in u)o.has(e)&&delete u[e];return Object.keys(u)}return a.length?a:[r]}window.addEventListener("popstate",e=>{const t=e.state&&e.state.key,n=u.lastIndexOf(t);n>-1&&(a=-1===l?"refresh":n>l?"forward":n<l?"back":"refresh",l=n,s=!0)}),window.addEventListener("unload",()=>{sessionStorage.setItem(o,JSON.stringify(u))}),t.beforeEach((function(e,t,n){const r=ee(t,e);if(s||(-1===l?(l=0,a="refresh"):a="forward"),!r.from)return void n();const o=Z(r.from);if(!o||"vue-router-cache-animate"!==oe(o))return void n();if(ie(o,r.from,r.to),o.noCacheOnBack&&"back"===a){const e=ae(t);if(e){const t=o.include.concat(),n=t.indexOf(e);n>-1&&(t.splice(n,1),c={ins:o,include:t})}return s=!1,void n()}const i=d(o.caches,r.from,r.to);i.length&&i.includes(r.from.name)?(o.include=i,n()):(c={ins:o,include:i},n())})),t.afterEach(()=>{if(!s){const e=history.state&&history.state.key;u.length=l+1,u.push(e),l=u.length-1}c&&(c.ins.include=c.include,c=null)}),e.component("vue-router-cache-animate",X)}};r["a"].use(ce,{router:W}),r["a"].config.productionTip=!1,new r["a"]({router:W,render:function(e){return e(l)}}).$mount("#app")},"579e":function(e,t,n){"use strict";var r=n("4e7e"),a=n.n(r);a.a},7239:function(e,t,n){},"7faf":function(e,t,n){"use strict";var r=n("b8ff"),a=n.n(r);a.a},9037:function(e,t,n){},b039:function(e,t,n){"use strict";var r=n("9037"),a=n.n(r);a.a},b0a0:function(e,t,n){"use strict";var r=n("452c"),a=n.n(r);a.a},b8ff:function(e,t,n){},cd40:function(e,t,n){"use strict";var r=n("11fd"),a=n.n(r);a.a},f2d6:function(e,t,n){"use strict";var r=n("7239"),a=n.n(r);a.a}});
//# sourceMappingURL=app.ef986610.js.map